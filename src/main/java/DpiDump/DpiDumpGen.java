package DpiDump;
import java.util.LinkedList;
import java.util.List;

import Common.CsvDumper;
import Common.CsvLoader;
import Common.RandomCollection;

/*
 * This Java source file was generated by the Gradle 'init' task.
 */
public class DpiDumpGen {
	String appFilePath;
	String outputFilePath;
		
	public void setAppFilePath(String appFilePath) {
		this.appFilePath = appFilePath;
	}

	public void setOutputFilePath(String outputFilePath) {
		this.outputFilePath = outputFilePath;
	}

	public int gen(String appFilePath, String appProtoFilePath) {
		RandomCollection<String> mapApp = CsvLoader.load(appFilePath);
		RandomCollection<String> mapAppProto = CsvLoader.load(appProtoFilePath);
		
		
		List<Record> list = new LinkedList<Record>();
		for (int i = 0 ; i < 10000; i++) {
			Record rec = new Record();
			rec.setAppName(mapApp.next());
			rec.setAppProto(mapAppProto.next());
			//System.out.println(str);
			list.add(rec);
		}
		
		try {
			CsvDumper dumper = new CsvDumper();
			dumper.dump(list, "./dpi-dump.csv");
		} catch (Exception e) {
			e.printStackTrace();
		}
        return 0;
    }
}
